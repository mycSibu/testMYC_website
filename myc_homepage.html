<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卫理青少年中心 (MYC) - 官方主页</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'myc-deep': '#5B217D',
                        'myc-green': '#68b92b',
                        'myc-yellow': '#FFC107',
                        'myc-light-purple': '#936CA3',
                        'myc-offwhite': '#F9F7F3',
                        'myc-dark-footer': '#3A1054',
                    }
                }
            }
        }
    </script>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signOut, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDLY-Nd3exPFG2ExPil-ko_dFn9Zz3E-oE",
            authDomain: "myc-booking.firebaseapp.com",
            databaseURL: "https://myc-booking-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "myc-booking",
            storageBucket: "myc-booking.firebasestorage.app",
            messagingSenderId: "398699322309",
            appId: "1:398699322309:web:2a176336e76eda30c009ac",
            measurementId: "G-MET5E50WKS"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        window.handleSignOut = async () => {
            try { await signOut(auth); window.location.reload(); } catch (error) { console.error("登出失败:", error); }
        };

        onAuthStateChanged(auth, (user) => {
            const navContainer = document.getElementById('nav-auth-container');
            if (!navContainer) return;

            if (user && user.uid) {
                // 已登录
                let displayName = '用户';
                if (user.providerData.some(p => p.providerId === GoogleAuthProvider.PROVIDER_ID)) {
                    displayName = user.displayName || '会员';
                } else if (user.isAnonymous) {
                    displayName = '访客';
                } else {
                    displayName = user.email ? user.email.split('@')[0] : '用户';
                }

                // *** 修复点 1：手机端隐藏名字，只显示登出按钮，防止重叠 ***
                navContainer.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <span class="text-myc-deep font-bold text-sm hidden sm:inline">欢迎, ${displayName}</span>
                        <button onclick="handleSignOut()" class="text-white bg-myc-deep hover:bg-[#4a1c62] px-3 py-1.5 text-xs sm:text-base sm:px-4 sm:py-2 rounded-full font-bold shadow-md whitespace-nowrap">
                            登出
                        </button>
                    </div>
                `;
                
                // 登录后的文字更新
                const mainTitle = document.getElementById('main-title');
                const mainSubtitle = document.getElementById('main-subtitle');
                const mainAction = document.getElementById('main-action');
                
                if (mainTitle) mainTitle.textContent = 'MYC 专属会员中心，欢迎回来！';
                if (mainSubtitle) mainSubtitle.textContent = '立即查看您的活动预定、最新通知与中心重要公告。';
                if (mainAction) {
                    mainAction.textContent = '立即去预约场地';
                    mainAction.href = 'myc_booking.html';
                }

            } else {
                // 未登录
                navContainer.innerHTML = `
                    <a href="./login.html" class="bg-myc-deep text-white px-3 py-1.5 text-xs sm:text-base sm:px-4 sm:py-2 rounded-full font-bold shadow-lg whitespace-nowrap">
                        用户登录
                    </a>
                `;
            }
            // 确保容器可见
            navContainer.classList.remove('hidden', 'opacity-0');
        });

        // 自动匿名登录（可选）
        document.addEventListener('DOMContentLoaded', async () => {
            try { await signInAnonymously(auth); } catch (e) {}
        });
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap');
        body { font-family: 'Nunito', sans-serif; background-color: #F9F7F3; overflow-x: hidden; }
        .text-shadow-custom { text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.4); }
    </style>
</head>
<body class="antialiased">

    <header class="bg-myc-green/95 backdrop-blur-sm shadow-lg sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center relative">
            <a href="#" class="flex items-center space-x-2 shrink-0">
                <img src="uploaded:clear myc logo.png" alt="Logo" class="h-8 w-8 sm:h-10 sm:w-10 rounded-full shadow-md" onerror="this.src='https://placehold.co/32x32/5B217D/ffffff?text=MYC';">
                <span class="text-xl font-black text-myc-deep uppercase tracking-tighter hidden sm:inline">MY CENTRE SIBU</span>
                <span class="text-base font-black text-myc-deep uppercase tracking-tighter sm:hidden">MY CENTRE</span>
            </a>
            
            <nav class="hidden md:flex space-x-6 text-myc-deep font-bold absolute left-1/2 transform -translate-x-1/2">
                <a href="#about" class="hover:text-white transition">关于我们</a>
                <a href="#facilities" class="hover:text-white transition">设施介绍</a>
                <a href="myc_booking.html" class="hover:text-white transition">场地预约</a>
                <a href="#contact" class="hover:text-white transition">联系我们</a>
            </nav>

            <div class="flex items-center gap-2">
                <div id="nav-auth-container" class="opacity-0 transition-opacity duration-500"></div>

                <button onclick="toggleMobileMenu()" class="md:hidden p-2 text-myc-deep hover:bg-white/20 rounded-lg transition shrink-0 z-50">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 shadow-xl absolute w-full left-0 top-full">
            <div class="flex flex-col p-4 space-y-3 font-bold text-myc-deep text-center">
                <a href="#about" onclick="toggleMobileMenu()" class="py-2 hover:bg-gray-50 rounded-lg">关于我们</a>
                <a href="#facilities" onclick="toggleMobileMenu()" class="py-2 hover:bg-gray-50 rounded-lg">设施介绍</a>
                <a href="myc_booking.html" class="py-2 bg-myc-green/10 text-myc-green rounded-lg">场地预约</a>
                <a href="#contact" onclick="toggleMobileMenu()" class="py-2 hover:bg-gray-50 rounded-lg">联系我们</a>
            </div>
        </div>
    </header>

    <script>
        // *** 修复点 4：控制手机菜单显示的脚本 ***
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
            } else {
                menu.classList.add('hidden');
            }
        }
    </script>

    <main>
        <section id="hero" class="bg-myc-green pt-12 pb-20 sm:pt-24 sm:pb-32 relative overflow-hidden">
            <div class="max-w-6xl mx-auto px-4 text-center relative z-10">
                <h2 id="main-title" class="text-3xl sm:text-5xl lg:text-6xl font-extrabold mb-4 leading-tight text-shadow-custom text-white px-2">
                    诗巫最棒的活动场地，<br class="sm:hidden">等你来预定！
                </h2>
                <p id="main-subtitle" class="text-base sm:text-xl font-light mb-8 max-w-3xl mx-auto text-white/90 px-4">
                    从篮球到 KTV，一站式满足你的所有活动需求。立即查看设施详情。
                </p>
                <a id="main-action" href="./login.html" class="inline-flex items-center justify-center bg-myc-deep text-white font-bold text-lg px-8 py-4 rounded-full shadow-2xl hover:scale-105 transition transform">
                    预定场地，开启活动！
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                </a>
            </div>
            <svg class="absolute bottom-0 left-0 w-full h-auto text-white/30" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path fill="currentColor" d="M0,64L48,85.3C96,107,192,149,288,149.3C384,149,480,107,576,90.7C672,75,768,85,864,122.7C960,160,1056,224,1152,224C1248,224,1344,160,1392,128L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
            </svg>
        </section>
        
        <section id="about" class="py-16 sm:py-24 bg-white">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="lg:grid lg:grid-cols-12 lg:gap-8">
                    <div class="lg:col-span-6 space-y-4">
                        <h3 class="text-sm font-extrabold text-myc-green uppercase tracking-wider">我们的使命</h3>
                        <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">培育未来领袖，共建美好社区</h2>
                        <p class="mt-4 text-gray-600 text-lg">卫理青少年中心不仅仅是一个场地租赁服务，更是砂拉越诗巫地区青少年成长的摇篮。</p>
                        <ul class="space-y-3 pt-4 text-gray-700">
                            <li class="flex items-start"><span class="text-myc-green mr-2 font-bold">✓</span>推动社区参与及交流活动。</li>
                            <li class="flex items-start"><span class="text-myc-green mr-2 font-bold">✓</span>专注于青少年的品格与技能发展。</li>
                            <li class="flex items-start"><span class="text-myc-green mr-2 font-bold">✓</span>提供高品质、安全的活动空间。</li>
                        </ul>
                    </div>
                    <div class="mt-10 lg:mt-0 lg:col-span-6 rounded-xl overflow-hidden shadow-xl">
                        <img src="uploaded:myc bgd.jpg" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/600x400/68b92b/ffffff?text=MYC+Activities';">
                    </div>
                </div>
            </div>
        </section>

        <section id="facilities" class="py-16 sm:py-24 bg-myc-offwhite"> 
            <div class="max-w-6xl mx-auto px-4 text-center">
                <h3 class="text-sm font-extrabold text-myc-green uppercase tracking-wider">场地设施</h3>
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl mt-2 mb-12">休闲活动</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-myc-green/10">
                        <h4 class="text-xl font-bold text-myc-deep mb-2">多用途礼堂</h4>
                        <p class="text-gray-600 text-sm">室内体育空间，可进行篮球、羽毛球、乒乓球等。</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-myc-green/10">
                        <h4 class="text-xl font-bold text-myc-deep mb-2">休闲娱乐设施</h4>
                        <p class="text-gray-600 text-sm">包含健身房、舞蹈室、KTV、游戏房和撞球室。</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-myc-green/10">
                        <h4 class="text-xl font-bold text-myc-deep mb-2">免费休闲项目</h4>
                        <p class="text-gray-600 text-sm">飞镖、桌面足球等，需支付可退还的定金即可使用。</p>
                    </div>
                </div>
                
                <div class="mt-12">
                    <a href="myc_booking.html" class="inline-block border-2 border-myc-green text-myc-green px-8 py-3 rounded-full font-bold hover:bg-myc-green hover:text-white transition duration-300">
                        查看更多及预定详情
                    </a>
                </div>
            </div>
        </section>

        <section id="contact" class="py-16 bg-myc-deep text-white text-center">
            <div class="max-w-6xl mx-auto px-4">
                <h3 class="text-myc-green font-bold uppercase tracking-wider">保持联系</h3>
                <h2 class="text-3xl font-bold mb-8 mt-2">快速联络与关注我们</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <a href="mailto:mycentre@live.com.my" class="bg-white/10 p-6 rounded-xl hover:bg-white/20 transition">
                        <p class="font-bold text-lg">电子邮件</p>
                        <p class="text-myc-green text-sm mt-1">mycentre@live.com.my</p>
                    </a>
                    <div class="bg-white/10 p-6 rounded-xl">
                        <p class="font-bold text-lg">热线/WhatsApp</p>
                        <p class="text-white/80 text-sm">084-311313</p>
                        <a href="https://wa.me/60168981379" target="_blank" class="text-myc-green font-bold text-sm block mt-1">0168981379</a>
                    </div>
                    <a href="https://maps.app.goo.gl/YourMapLink" target="_blank" class="bg-white/10 p-6 rounded-xl hover:bg-white/20 transition">
                        <p class="font-bold text-lg">地址</p>
                        <p class="text-white/80 text-xs mt-1">NO:1, JALAN HARMONI, LORONG HARMONI 4, Sibu</p>
                    </a>
                </div>

                <div class="mt-12">
                    <h4 class="text-xl font-bold mb-6">关注我们</h4>
                    <div class="flex justify-center space-x-8">
                        <a href="https://www.facebook.com/mycentresibu/" target="_blank" class="text-myc-green hover:text-myc-yellow transition transform hover:scale-110">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                        </a>
                        <a href="https://www.instagram.com/mycentre_sibu/" target="_blank" class="text-myc-green hover:text-myc-yellow transition transform hover:scale-110">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
                        </a>
                        <a href="https://linktr.ee/MYCENTRE_Sibu" target="_blank" class="text-myc-green hover:text-myc-yellow transition transform hover:scale-110">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="16" y="16" width="6" height="6" rx="1"/><rect x="2" y="16" width="6" height="6" rx="1"/><rect x="9" y="2" width="6" height="6" rx="1"/><path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"/><path d="M12 12V8"/></svg>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-myc-dark-footer text-white py-6 text-center text-xs opacity-70">
        <p>© 2025 Copyright by My Centre, SCAC</p>
    </footer>

</body>
</html>
